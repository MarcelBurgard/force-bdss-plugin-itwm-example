import unittest

from itwm_example.mco.mco import get_weight_combinations


class TestMCO(unittest.TestCase):
    def test_get_weight_combinations(self):
        self.assertEqual(list(get_weight_combinations(1, 5)), [[1.0]])
        self.assertEqual(list(get_weight_combinations(2, 5)), [
            [1.0, 0.0],
            [0.75, 0.25],
            [0.50, 0.50],
            [0.25, 0.75],
            [0.0, 1.0],
        ])

        self.assertEqual(list(get_weight_combinations(3, 5)), [
            [1.0, 0.0, 0.0],
            [0.75, 0.25, 0.0],
            [0.75, 0.0, 0.25],
            [0.50, 0.50, 0.0],
            [0.50, 0.25, 0.25],
            [0.50, 0.0, 0.50],
            [0.25, 0.75, 0.0],
            [0.25, 0.50, 0.25],
            [0.25, 0.25, 0.50],
            [0.25, 0.0, 0.75],
            [0.0, 1.0, 0.0],
            [0.0, 0.75, 0.25],
            [0.0, 0.50, 0.50],
            [0.0, 0.25, 0.75],
            [0.0, 0.0, 1.0],
        ])

        self.assertEqual(
            list(get_weight_combinations(3, 9)),
            [[1.0, 0.0, 0.0], [0.875, 0.125, 0.0], [0.875, 0.0, 0.125],
             [0.75, 0.25, 0.0], [0.75, 0.125, 0.125], [0.75, 0.0, 0.25],
             [0.625, 0.375, 0.0], [0.625, 0.25, 0.125], [0.625, 0.125, 0.25],
             [0.625, 0.0, 0.375], [0.5, 0.5, 0.0], [0.5, 0.375, 0.125],
             [0.5, 0.25, 0.25], [0.5, 0.125, 0.375], [0.5, 0.0, 0.5],
             [0.375, 0.625, 0.0], [0.375, 0.5, 0.125], [0.375, 0.375, 0.25],
             [0.375, 0.25, 0.375], [0.375, 0.125, 0.5], [0.375, 0.0, 0.625],
             [0.25, 0.75, 0.0], [0.25, 0.625, 0.125], [0.25, 0.5, 0.25],
             [0.25, 0.375, 0.375], [0.25, 0.25, 0.5], [0.25, 0.125, 0.625],
             [0.25, 0.0, 0.75], [0.125, 0.875, 0.0], [0.125, 0.75, 0.125],
             [0.125, 0.625, 0.25], [0.125, 0.5, 0.375], [0.125, 0.375, 0.5],
             [0.125, 0.25, 0.625], [0.125, 0.125, 0.75], [0.125, 0.0, 0.875],
             [0.0, 1.0, 0.0], [0.0, 0.875, 0.125], [0.0, 0.75, 0.25],
             [0.0, 0.625, 0.375], [0.0, 0.5, 0.5], [0.0, 0.375, 0.625],
             [0.0, 0.25, 0.75], [0.0, 0.125, 0.875], [0.0, 0.0, 1.0]]
        )
